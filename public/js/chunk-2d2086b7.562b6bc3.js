(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("login")],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("leaf",[a("v-card-title",[e._v("Welcome!")]),a("v-form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("v-text-field",{staticClass:"leaf-input mx-4",attrs:{type:"text",id:"email",label:"Email",rules:e.rules.email},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),a("v-text-field",{staticClass:"leaf-input mx-4",attrs:{type:"password",id:"password",label:"Password",rules:e.rules.password},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),a("v-card-text",[e._v("Don't have an account? "),a("router-link",{attrs:{to:"/register"}},[e._v("click here")])],1),a("v-btn",{staticClass:"mx-4 my-2",attrs:{type:"submit",outlined:"",color:"gold"}},[e._v("Sign in")])],1)],1),a("v-snackbar",{staticClass:"pb-10",attrs:{rounded:"pill",color:"sunlight",bottom:""},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"wenge",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.errorText)+" ")])],1)},s=[],i=(a("b0c0"),a("96cf"),a("1da1")),l=a("f59b"),c={name:"Login",components:{Leaf:l["a"]},data:function(){return{login:{email:"",password:""},rules:{email:[function(e){return!!e||"Required"},function(e){return(e||"").length<=100||"Max 100 characters"},function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."}],password:[function(e){return!!e||"Required"},function(e){return(e||"").length<=100||"Max 100 characters"},function(e){return(e||"").length>=3||"Min 3 characters"}]},snackbar:!1,errorText:""}},mounted:function(){var e=localStorage.getItem("jwt");e&&(this.$store.commit("user/isLoggedIn",!0),this.$router.push("/home"))},methods:{loginUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/api/auth",e.login);case 3:a=t.sent,n=a.data.token,localStorage.setItem("jwt",n),e.$store.commit("user/setInformation",{_id:a.data.userInformation.id,email:a.data.userInformation.email,name:a.data.userInformation.name,image:""}),n&&(e.$store.commit("user/isLoggedIn",!0),e.$router.push("/home")),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.errorText=t.t0.message,e.snackbar=!0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},u=c,d=a("2877"),m=a("6544"),p=a.n(m),f=a("8336"),v=a("99d9"),b=a("a523"),g=a("4bd4"),h=a("2db4"),x=a("8654"),k=Object(d["a"])(u,o,s,!1,null,"410d87d8",null),w=k.exports;p()(k,{VBtn:f["a"],VCardText:v["a"],VCardTitle:v["b"],VContainer:b["a"],VForm:g["a"],VSnackbar:h["a"],VTextField:x["a"]});var _={components:{login:w}},$=_,I=Object(d["a"])($,n,r,!1,null,null,null);t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.562b6bc3.js.map